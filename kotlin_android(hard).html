<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kotlin Android - Hard Quiz | QuizMaster</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/dracula.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4361ee;
            --secondary-color: #3f37c9;
            --accent-color: #4cc9f0;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --success-color: #4bb543;
            --error-color: #f44336;
            --warning-color: #ff9800;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fb;
            color: var(--dark-color);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 20px 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 28px;
            font-weight: 700;
            display: flex;
            align-items: center;
        }
        
        .logo i {
            margin-right: 10px;
            color: var(--accent-color);
        }
        
        .nav-links {
            display: flex;
            list-style: none;
        }
        
        .nav-links li {
            margin-left: 30px;
        }
        
        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .nav-links a:hover {
            color: var(--accent-color);
        }
        
        .btn {
            display: inline-block;
            background-color: var(--accent-color);
            color: white;
            padding: 12px 25px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 16px;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .btn-outline {
            background-color: transparent;
            border: 2px solid white;
        }
        
        .btn-outline:hover {
            background-color: white;
            color: var(--primary-color);
        }
        
        .back-btn {
            display: inline-flex;
            align-items: center;
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 600;
            margin: 30px 0;
            transition: all 0.3s ease;
        }
        
        .back-btn i {
            margin-right: 8px;
            transition: all 0.3s ease;
        }
        
        .back-btn:hover {
            color: var(--secondary-color);
        }
        
        .back-btn:hover i {
            transform: translateX(-5px);
        }
        
        .quiz-container {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            padding: 40px;
            margin-bottom: 40px;
        }
        
        .quiz-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .quiz-header h1 {
            font-size: 36px;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .quiz-header p {
            color: #666;
            font-size: 18px;
        }
        
        .difficulty-tag {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 50px;
            font-weight: 600;
            margin-bottom: 20px;
            background-color: var(--error-color);
            color: white;
        }
        
        .progress-container {
            width: 100%;
            background-color: #e9ecef;
            border-radius: 50px;
            margin: 20px 0;
            height: 10px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            border-radius: 50px;
            transition: width 0.4s ease;
        }
        
        .question-counter {
            text-align: right;
            color: #666;
            font-weight: 600;
            margin-bottom: 20px;
        }
        
        .question {
            margin-bottom: 30px;
        }
        
        .question h3 {
            font-size: 22px;
            margin-bottom: 15px;
            color: var(--dark-color);
        }
        
        .question pre {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            border-left: 4px solid var(--primary-color);
        }
        
        .question code {
            font-family: 'Courier New', Courier, monospace;
            font-size: 15px;
        }
        
        .code-editor-container {
            margin: 25px 0;
            border-radius: 5px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .editor-header {
            background-color: var(--dark-color);
            color: white;
            padding: 10px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .editor-title {
            font-weight: 600;
            font-size: 14px;
        }
        
        .run-btn {
            background-color: var(--success-color);
            color: white;
            border: none;
            padding: 5px 15px;
            border-radius: 3px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .run-btn:hover {
            background-color: #3a9a32;
        }
        
        .CodeMirror {
            height: auto;
            font-size: 14px;
            border-radius: 0 0 5px 5px;
        }
        
        .output-container {
            background-color: var(--dark-color);
            color: #f0f0f0;
            padding: 15px;
            border-radius: 5px;
            margin-top: 15px;
            font-family: 'Courier New', Courier, monospace;
            font-size: 14px;
            min-height: 100px;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .output-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--accent-color);
        }
        
        .quiz-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .skip-btn {
            background-color: var(--warning-color);
            color: white;
        }
        
        .skip-btn:hover {
            background-color: #e68a00;
        }
        
        .next-btn {
            background-color: var(--primary-color);
            color: white;
        }
        
        .next-btn:hover {
            background-color: var(--secondary-color);
        }
        
        .submit-btn {
            background-color: var(--success-color);
            color: white;
        }
        
        .submit-btn:hover {
            background-color: #3a9a32;
        }
        
        .hidden {
            display: none;
        }
        
        .result-container {
            text-align: center;
            padding: 40px;
        }
        
        .result-icon {
            font-size: 80px;
            margin-bottom: 20px;
        }
        
        .success {
            color: var(--success-color);
        }
        
        .error {
            color: var(--error-color);
        }
        
        .result-container h2 {
            font-size: 32px;
            margin-bottom: 15px;
        }
        
        .result-container p {
            font-size: 18px;
            color: #666;
            margin-bottom: 25px;
        }
        
        .score {
            font-size: 48px;
            font-weight: 700;
            color: var(--primary-color);
            margin: 20px 0;
        }
        
        footer {
            background-color: var(--dark-color);
            color: white;
            padding: 50px 0 20px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-column h3 {
            font-size: 20px;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 10px;
        }
        
        .footer-column h3::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 50px;
            height: 2px;
            background-color: var(--accent-color);
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 10px;
        }
        
        .footer-links a {
            color: #aaa;
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .footer-links a:hover {
            color: white;
            padding-left: 5px;
        }
        
        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: white;
            transition: all 0.3s ease;
        }
        
        .social-links a:hover {
            background-color: var(--accent-color);
            transform: translateY(-3px);
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #aaa;
            font-size: 14px;
        }
        
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .quiz-header h1 {
                font-size: 28px;
            }
            
            .quiz-actions {
                flex-direction: column;
                gap: 15px;
            }
            
            .quiz-actions .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <nav>
                <div class="logo">
                    <i class="fas fa-brain"></i>
                    <span>QuizMaster</span>
                </div>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="index.html#categories">Categories</a></li>
                    <li><a href="index.html#features">Features</a></li>
                    <li><a href="index.html#testimonials">Testimonials</a></li>
                    <li><a href="#" class="btn btn-outline">Login</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container">
        <a href="android_quizzes.html" class="back-btn">
            <i class="fas fa-arrow-left"></i>
            Back to Android Quizzes
        </a>
        
        <div class="quiz-container">
            <div class="quiz-header">
                <span class="difficulty-tag">Hard</span>
                <h1>Kotlin Android Challenge</h1>
                <p>Test your advanced Kotlin Android skills with these programming challenges</p>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar" style="width: 0%"></div>
            </div>
            
            <div class="question-counter">
                Question <span id="current-question">1</span> of <span id="total-questions">5</span>
            </div>
            
            <!-- Question 1 -->
            <div class="question" id="question-1">
                <h3>Question 1: Coroutine Exception Handling</h3>
                <p>Implement a ViewModel that uses coroutines to fetch data from a repository while properly handling exceptions. The ViewModel should:</p>
                <ol>
                    <li>Use a CoroutineScope tied to its lifecycle</li>
                    <li>Handle exceptions from the repository and update UI state accordingly</li>
                    <li>Ensure coroutines are cancelled when the ViewModel is cleared</li>
                </ol>
                <p>Complete the following ViewModel implementation:</p>
                
                <div class="code-editor-container">
                    <div class="editor-header">
                        <div class="editor-title">MyViewModel.kt</div>
                        <button class="run-btn" onclick="runCode(1)">Run Code</button>
                    </div>
                    <textarea id="code-1" class="code-editor">
import androidx.lifecycle.ViewModel
import androidx.lifecycle.viewModelScope
import kotlinx.coroutines.launch

class MyViewModel(private val repository: DataRepository) : ViewModel() {
    // Your implementation here
                        
    sealed class UiState {
        object Loading : UiState()
        data class Success(val data: String) : UiState()
        data class Error(val message: String) : UiState()
    }
}</textarea>
                </div>
                
                <div class="output-container hidden" id="output-1">
                    <div class="output-title">Output</div>
                    <div id="output-content-1"></div>
                </div>
                
                <div class="quiz-actions">
                    <button class="btn skip-btn" onclick="skipQuestion()">Skip Question</button>
                    <button class="btn next-btn" onclick="nextQuestion()">Next Question</button>
                </div>
            </div>
            
            <!-- Question 2 -->
            <div class="question hidden" id="question-2">
                <h3>Question 2: Custom View with Canvas</h3>
                <p>Create a custom View that draws a circular progress indicator with the following requirements:</p>
                <ol>
                    <li>The progress should be animated from 0 to the specified value</li>
                    <li>The circle should have a background track and a colored progress track</li>
                    <li>The view should be customizable via XML attributes (color, thickness, etc.)</li>
                </ol>
                <p>Implement the custom view class:</p>
                
                <div class="code-editor-container">
                    <div class="editor-header">
                        <div class="editor-title">CircularProgressView.kt</div>
                        <button class="run-btn" onclick="runCode(2)">Run Code</button>
                    </div>
                    <textarea id="code-2" class="code-editor">
import android.content.Context
import android.graphics.Canvas
import android.util.AttributeSet
import android.view.View

class CircularProgressView @JvmOverloads constructor(
    context: Context,
    attrs: AttributeSet? = null,
    defStyleAttr: Int = 0
) : View(context, attrs, defStyleAttr) {
    // Your implementation here
}</textarea>
                </div>
                
                <div class="output-container hidden" id="output-2">
                    <div class="output-title">Output</div>
                    <div id="output-content-2"></div>
                </div>
                
                <div class="quiz-actions">
                    <button class="btn skip-btn" onclick="skipQuestion()">Skip Question</button>
                    <button class="btn next-btn" onclick="nextQuestion()">Next Question</button>
                </div>
            </div>
            
            <!-- Question 3 -->
            <div class="question hidden" id="question-3">
                <h3>Question 3: Room Database with Complex Query</h3>
                <p>Implement a Room database with the following requirements:</p>
                <ol>
                    <li>Two entities: User and Order with a one-to-many relationship</li>
                    <li>A DAO with a query that returns all users with their total order amount</li>
                    <li>Type converters for any custom types</li>
                </ol>
                <p>Complete the Room database implementation:</p>
                
                <div class="code-editor-container">
                    <div class="editor-header">
                        <div class="editor-title">AppDatabase.kt</div>
                        <button class="run-btn" onclick="runCode(3)">Run Code</button>
                    </div>
                    <textarea id="code-3" class="code-editor">
import androidx.room.*

// Define your entities, DAO, and database class here

data class UserWithOrders(
    // Your data class for the query result
)</textarea>
                </div>
                
                <div class="output-container hidden" id="output-3">
                    <div class="output-title">Output</div>
                    <div id="output-content-3"></div>
                </div>
                
                <div class="quiz-actions">
                    <button class="btn skip-btn" onclick="skipQuestion()">Skip Question</button>
                    <button class="btn next-btn" onclick="nextQuestion()">Next Question</button>
                </div>
            </div>
            
            <!-- Question 4 -->
            <div class="question hidden" id="question-4">
                <h3>Question 4: Dependency Injection with Hilt</h3>
                <p>Set up Hilt for dependency injection in an Android app with the following components:</p>
                <ol>
                    <li>A Retrofit service with a base URL from BuildConfig</li>
                    <li>A repository that depends on the Retrofit service and a Room database</li>
                    <li>A ViewModel that depends on the repository</li>
                </ol>
                <p>Implement the Hilt modules and component bindings:</p>
                
                <div class="code-editor-container">
                    <div class="editor-header">
                        <div class="editor-title">DiModule.kt</div>
                        <button class="run-btn" onclick="runCode(4)">Run Code</button>
                    </div>
                    <textarea id="code-4" class="code-editor">
import dagger.Module
import dagger.Provides
import dagger.hilt.InstallIn
import dagger.hilt.android.components.ViewModelComponent
import retrofit2.Retrofit
import javax.inject.Singleton

// Implement your Hilt modules here</textarea>
                </div>
                
                <div class="output-container hidden" id="output-4">
                    <div class="output-title">Output</div>
                    <div id="output-content-4"></div>
                </div>
                
                <div class="quiz-actions">
                    <button class="btn skip-btn" onclick="skipQuestion()">Skip Question</button>
                    <button class="btn next-btn" onclick="nextQuestion()">Next Question</button>
                </div>
            </div>
            
            <!-- Question 5 -->
            <div class="question hidden" id="question-5">
                <h3>Question 5: Performance Optimization</h3>
                <p>Optimize the following RecyclerView adapter to improve scrolling performance:</p>
                <ol>
                    <li>Implement view holder pattern correctly</li>
                    <li>Optimize image loading</li>
                    <li>Minimize object allocations during scrolling</li>
                    <li>Implement efficient diffing for updates</li>
                </ol>
                <p>Rewrite the adapter for better performance:</p>
                
                <div class="code-editor-container">
                    <div class="editor-header">
                        <div class="editor-title">OptimizedAdapter.kt</div>
                        <button class="run-btn" onclick="runCode(5)">Run Code</button>
                    </div>
                    <textarea id="code-5" class="code-editor">
import android.view.ViewGroup
import androidx.recyclerview.widget.RecyclerView

class OptimizedAdapter : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {
    // Your optimized implementation here
}</textarea>
                </div>
                
                <div class="output-container hidden" id="output-5">
                    <div class="output-title">Output</div>
                    <div id="output-content-5"></div>
                </div>
                
                <div class="quiz-actions">
                    <button class="btn skip-btn" onclick="skipQuestion()">Skip Question</button>
                    <button class="btn submit-btn" onclick="submitQuiz()">Submit Quiz</button>
                </div>
            </div>
            
            <!-- Results Screen -->
            <div class="result-container hidden" id="result-container">
                <div class="result-icon success">
                    <i class="fas fa-trophy"></i>
                </div>
                <h2>Quiz Completed!</h2>
                <p>You've completed the Kotlin Android Hard Quiz. Here's your result:</p>
                <div class="score" id="final-score">0/5</div>
                <button class="btn" onclick="window.location.href='android_quizzes.html'">Back to Android Quizzes</button>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>QuizMaster</h3>
                    <p>The ultimate platform for knowledge testing and learning through fun, interactive quizzes.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="index.html#categories">Categories</a></li>
                        <li><a href="index.html#features">Features</a></li>
                        <li><a href="index.html#testimonials">Testimonials</a></li>
                        <li><a href="#">About Us</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Android Development</h3>
                    <ul class="footer-links">
                        <li><a href="#kotlin-quiz">Kotlin Quizzes</a></li>
                        <li><a href="#java-quiz">Java Quizzes</a></li>
                        <li><a href="#xml-quiz">XML Quizzes</a></li>
                        <li><a href="#sql-quiz">SQL Quizzes</a></li>
                        <li><a href="#dart-quiz">Dart Quizzes</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Contact Us</h3>
                    <ul class="footer-links">
                        <li><i class="fas fa-envelope"></i> info@quizmaster.com</li>
                        <li><i class="fas fa-phone"></i> +1 (555) 123-4567</li>
                        <li><i class="fas fa-map-marker-alt"></i> 123 Quiz Street, Knowledge City</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 QuizMaster. All rights reserved. | <a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a></p>
            </div>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/clike/clike.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/matchbrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/closebrackets.min.js"></script>
    
    <script>
        // Initialize CodeMirror editors
        const editors = [];
        for (let i = 1; i <= 5; i++) {
            const editor = CodeMirror.fromTextArea(document.getElementById(`code-${i}`), {
                mode: "text/x-kotlin",
                theme: "dracula",
                lineNumbers: true,
                matchBrackets: true,
                autoCloseBrackets: true,
                indentUnit: 4,
                tabSize: 4,
                lineWrapping: true
            });
            editors.push(editor);
        }
        
        // Quiz state
        let currentQuestion = 1;
        const totalQuestions = 5;
        let score = 0;
        const skippedQuestions = [];
        
        // Update progress bar
        function updateProgress() {
            const progress = ((currentQuestion - 1) / totalQuestions) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
            document.getElementById('current-question').textContent = currentQuestion;
        }
        
        // Run code (simulated - in a real app this would connect to a backend or use WebAssembly)
        function runCode(questionNum) {
            const outputContainer = document.getElementById(`output-${questionNum}`);
            const outputContent = document.getElementById(`output-content-${questionNum}`);
            
            // Simulate code execution
            outputContent.innerHTML = `
                <p><i class="fas fa-check-circle" style="color: var(--success-color)"></i> Code compiled successfully!</p>
                <p>Running tests...</p>
                <p>Test case 1: Passed</p>
                <p>Test case 2: Passed</p>
                <p>Test case 3: Passed</p>
                <p><strong>All tests passed! Your solution is correct.</strong></p>
            `;
            
            outputContainer.classList.remove('hidden');
            
            // In a real implementation, this would only increase score if the code is correct
            if (currentQuestion === questionNum && !skippedQuestions.includes(questionNum)) {
                score++;
            }
        }
        
        // Show next question
        function nextQuestion() {
            document.getElementById(`question-${currentQuestion}`).classList.add('hidden');
            currentQuestion++;
            
            if (currentQuestion <= totalQuestions) {
                document.getElementById(`question-${currentQuestion}`).classList.remove('hidden');
                updateProgress();
            } else {
                showResults();
            }
        }
        
        // Skip current question
        function skipQuestion() {
            skippedQuestions.push(currentQuestion);
            nextQuestion();
        }
        
        // Submit quiz
        function submitQuiz() {
            showResults();
        }
        
        // Show results
        function showResults() {
            document.getElementById(`question-${currentQuestion}`).classList.add('hidden');
            document.getElementById('result-container').classList.remove('hidden');
            document.getElementById('final-score').textContent = `${score}/${totalQuestions}`;
            
            // Update progress to 100%
            document.getElementById('progress-bar').style.width = '100%';
        }
        
        // Initialize
        updateProgress();
    </script>
</body>
</html>